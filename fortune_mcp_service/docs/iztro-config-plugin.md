# iztro 配置与插件系统文档

## 概述
iztro库在v2.3.0版本引入了全局配置和第三方插件功能，支持不同流派的紫微斗数定制化需求。

## 配置系统

### 基本用法
```javascript
// 使用配置
astro.config({
  mutagens: { 庚: ['太阳', '武曲', '天同', '天相'] },
  brightness: {
    贪狼: ['旺', '旺', '旺', '旺', '旺', '旺', '旺', '旺', '旺', '旺', '旺', '旺'],
  },
});
```

### 配置特点
- 使用 `astro.config()` 方法进行配置，需在生成星盘前调用
- 可以修改默认设置，如四化和星曜亮度
- 新配置会与现有默认设置合并

### 可配置项
1. **四化配置** (mutagens) - 自定义不同天干的四化星曜
2. **亮度配置** (brightness) - 自定义星曜在不同宫位的亮度

## 插件系统

### 插件概念
- 插件是扩展星盘功能的函数
- 可以向星盘对象添加新方法
- 通过在星盘接口上定义方法来实现

### 插件加载
```javascript
// 加载单个插件
astro.loadPlugin(pluginFunction);

// 加载多个插件
astro.loadPlugins([plugin1, plugin2, plugin3]);
```

### 插件开发
插件是通过定义星盘对象方法来扩展功能的函数，可以：
- 添加新的分析方法
- 扩展现有功能
- 实现特定流派的计算规则

## 设计目标
1. **灵活性** - 支持不同流派的紫微斗数解释
2. **可扩展性** - 通过插件系统扩展功能
3. **兼容性** - 保持与现有代码的兼容
4. **定制化** - 满足特定需求的配置选项

## 使用场景
- 不同紫微斗数流派的差异化设置
- 特殊计算规则的实现
- 功能扩展和定制化开发
- 第三方工具集成

## 版本要求
- 需要iztro v2.3.0或更高版本
- 建议在项目初始化时进行配置